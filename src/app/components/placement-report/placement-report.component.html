<div class="reports-placement-report">
	<h3>{{ 'ltk_stu_placement_rep' | translate }}</h3>
	<table class="table table-striped table-hover table-condensed">
		<thead>
			<tr>
				<th>{{ 'activity' | translate }}</th>
				<th>{{ 'expected' | translate }}</th>
				<th>{{ 'student_entered' | translate }}</th>
				<th>{{ 'end_datetime' | translate }}</th>
			</tr>
		</thead>
		<tbody [hidden]="!report_pcm_ready">
			<tr *ngFor="let er of placement.errors">
				<td>{{ 'placement_test' | translate }}</td>
				<td>{{ er.expected }}</td>
				<td>{{ er.actual_input }}</td>
				<td></td>
			</tr>
			<tr [hidden]="placement.results.length === 0">
					<td>{{ 'placement_test' | translate }}</td>
					<td><span class='btn btn-success' (click)="showTestDetails(placement.details)">{{ 'student_details' | translate }}</span></td>
					<td></td>
					<td></td>
			</tr>
      		<tr [hidden]="placement.errors.length === 0">
				<td>{{ 'errors_made' | translate }}: {{ placement.wrong_answers }}</td>
				<td>{{ 'word_groups_presented' | translate }}: {{ placement.total }}</td>
				<td>{{ 'assigned_lesson' | translate }}: {{ placement.lesson }}</td>
				<td>{{ placement.end }}</td>
			</tr>
			<tr [hidden]="placement.results.length === 0">
				<td>{{ 'your_level' | translate }}: {{ placement.level }}</td>
				<td></td>
				<td>{{ 'start_ltk_from' | translate }}:&nbsp;Break&nbsp;{{ placement.break }}</td>
				<td>{{ placement.end }}</td>
			</tr>
			<tr [hidden]="placement.errors.length !== 0 || placement.results.length !== 0">
				<td>{{ 'errors_made' | translate }}: -</td>
				<td>{{ 'word_groups_presented' | translate }}: -</td>
				<td>{{ 'assigned_lesson' | translate }}: -</td>
				<td>{{ placement.end }}</td>
			</tr>
		</tbody>
	</table>
	<div id='page-is-loading-screen' class="report-loading" [hidden]="report_pcm_ready" style='margin-top: 20px;'>{{ 'loading' | translate }} <img src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAzMiAzMic+PGxpbmVhckdyYWRpZW50IGlkPSdGYXN0TG9hZGluZ0luZGljYXRvci1saW5lYXJHcmFkaWVudCcgZ3JhZGllbnRVbml0cz0ndXNlclNwYWNlT25Vc2UnIHgxPScxLjc4MDQnIHkxPScxNi4wMzc5JyB4Mj0nMzAuMTQzOScgeTI9JzE2LjAzNzknPjxzdG9wIG9mZnNldD0nMC40MTY5JyBzdG9wLWNvbG9yPScjQ0RDRkQyJy8+PHN0b3Agb2Zmc2V0PScwLjkzNzYnIHN0b3AtY29sb3I9J3JnYmEoMjQ4LDI0OCwyNDksMCknLz48L2xpbmVhckdyYWRpZW50PjxjaXJjbGUgY3g9JzE2JyBjeT0nMTYnIHI9JzEyLjcnIHN0eWxlPSdmaWxsOiBub25lOyBzdHJva2U6IHVybCgjRmFzdExvYWRpbmdJbmRpY2F0b3ItbGluZWFyR3JhZGllbnQpOyBzdHJva2Utd2lkdGg6IDI7Jz48L2NpcmNsZT48L3N2Zz4=' alt='' /></div>
	<br />
	<h3>{{ 'ltk_stu_tests' | translate }}</h3>
	<table class="table table-striped table-hover table-condensed">
		<thead>
			<tr>
				<th>{{ 'lesson' | translate }}</th>
				<th>{{ 'activity' | translate }}</th>
				<th>{{ 'student_score' | translate }}</th>
				<th>{{ 'student_details' | translate }}</th>
				<th>{{ 'end_datetime' | translate }}</th>
			</tr>
		</thead>
		<tbody [hidden]="!report_tst_ready">
			<tr *ngFor="let t of tests">
				<td>{{ t.lesson }}</td>
				<td>{{ t.desc }}</td>
				<td>{{ getValue(t.result) }}%</td>
				<td><span class='btn btn-success' (click)="showTestDetails(t.result.details)">{{ 'student_details' | translate }}</span></td>
				<td>{{ t.begin }}</td>
			</tr>
		</tbody>
	</table>
	<div id='page-is-loading-screen' class="report-loading" [hidden]="report_tst_ready" style='margin-top: 20px;'>{{ 'loading' | translate }} <img src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAzMiAzMic+PGxpbmVhckdyYWRpZW50IGlkPSdGYXN0TG9hZGluZ0luZGljYXRvci1saW5lYXJHcmFkaWVudCcgZ3JhZGllbnRVbml0cz0ndXNlclNwYWNlT25Vc2UnIHgxPScxLjc4MDQnIHkxPScxNi4wMzc5JyB4Mj0nMzAuMTQzOScgeTI9JzE2LjAzNzknPjxzdG9wIG9mZnNldD0nMC40MTY5JyBzdG9wLWNvbG9yPScjQ0RDRkQyJy8+PHN0b3Agb2Zmc2V0PScwLjkzNzYnIHN0b3AtY29sb3I9J3JnYmEoMjQ4LDI0OCwyNDksMCknLz48L2xpbmVhckdyYWRpZW50PjxjaXJjbGUgY3g9JzE2JyBjeT0nMTYnIHI9JzEyLjcnIHN0eWxlPSdmaWxsOiBub25lOyBzdHJva2U6IHVybCgjRmFzdExvYWRpbmdJbmRpY2F0b3ItbGluZWFyR3JhZGllbnQpOyBzdHJva2Utd2lkdGg6IDI7Jz48L2NpcmNsZT48L3N2Zz4=' alt='' /></div>


	<!--  Details modal   -->
	<div id="test-details-modal" class="modal fade show" tabindex="-1" role="dialog" style='z-index: 10100; display: block; padding-left: 0px; background-color: rgba(0, 0, 0, 0.7); overflow-y: auto;' [hidden]="!show_test_details">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">{{ 'test_details' | translate }}</h5>
				<button type="button" class="close" (click)="closeDetails()" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="test-details test-details-header">
					<span>{{ 'student_entered' | translate }}</span>
					<span>{{ 'expected' | translate }}</span>
					<!--<span [hidden]="(cdetails && !cdetails[0].word && !cdetails[0].sentence) || !cdetails">{{ 'word_or_sentence' | translate }}</span>-->
					<span>{{ 'word_or_sentence' | translate }}</span>
				</div>
				<div class="test-details" *ngFor="let dtl of cdetails">
					<span [hidden]="!dtl.answer">{{ dtl.answer }}</span>
					<span [hidden]="!dtl.expected">{{ dtl.expected }}</span>
					<span [hidden]="!dtl.sentence">{{ dtl.sentence }}</span>
					<span [hidden]="!dtl.word">{{ dtl.word }}</span>
					<span [hidden]="dtl.word || dtl.sentence">-</span>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" (click)="closeDetails()">{{ 'close' | translate }}</button>
			</div>
			</div>
		</div>
	</div>

</div>